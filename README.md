# Logistics Cloud

Logistics Cloud 是一个基于微服务架构的现代物流管理系统，提供仓库管理、库存管理和物流业务管理的综合解决方案。系统由微服务后端、Web前端和PDA移动应用三部分组成，支持多租户部署。

## 开发顺序

### 1. 基础设施搭建

1. 基础框架搭建

   - [X]  Gradle 多模块项目结构
   - [X]  统一的依赖管理
   - [X]  统一的日志配置
2. 公共组件开发（common模块）

   - [X]  common-core: 核心工具类
     - [X]  统一响应对象
     - [X]  全局异常处理
     - [X]  通用工具类
   - [X]  common-security: 安全组件
     - [X]  JWT工具类
     - [X]  安全配置
     - [X]  权限注解
   - [ ]  common-data: 数据访问组件
     - [ ]  多租户支持
     - [ ]  数据权限
     - [ ]  审计功能
3. 框架组件开发（framework模块）

   - [ ]  framework-web: Web框架
     - [ ]  统一跨域配置
     - [ ]  请求日志记录
     - [ ]  参数验证
   - [ ]  framework-swagger: API文档
     - [ ]  Swagger配置
     - [ ]  接口文档规范

### 2. 基础服务开发

1. 认证中心（auth）

   - [ ]  RBAC权限模型实现
     - [ ]  用户管理
     - [ ]  角色管理
     - [ ]  权限管理
     - [ ]  菜单管理
     - [ ]  数据权限
   - [ ]  租户管理
     - [ ]  租户信息管理
     - [ ]  租户资源配置
     - [ ]  租户隔离策略
   - [ ]  系统管理
     - [ ]  组织架构
     - [ ]  岗位管理
     - [ ]  部门管理
2. 配置中心（config）

   - [ ]  租户级配置管理
   - [ ]  业务参数配置
   - [ ]  工作流配置
   - [ ]  业务规则引擎
3. API网关（gateway）

   - [ ]  路由配置
   - [ ]  认证过滤
   - [ ]  限流配置

### 3. 业务服务开发

1. WMS API模块

   - [ ]  DTO定义
   - [ ]  接口定义
   - [ ]  枚举定义
   - [ ]  常量定义
2. WMS核心服务

   - [ ]  入库服务（wms-inbound）
     - [ ]  收货管理
     - [ ]  上架管理
     - [ ]  入库单管理
     - [ ]  质检管理
   - [ ]  出库服务（wms-outbound）
     - [ ]  拣货管理
     - [ ]  复核管理
     - [ ]  出库单管理
     - [ ]  波次管理
   - [ ]  库内服务（wms-internal）
     - [ ]  库存管理
     - [ ]  库位管理
     - [ ]  盘点管理
     - [ ]  移库管理
   - [ ]  报表服务（wms-report）
     - [ ]  库存报表
     - [ ]  作业报表
     - [ ]  绩效报表
     - [ ]  统计分析
3. TMS服务（后续开发）

### 4. 前端开发

1. 管理后台（logistics-admin）

   - [ ]  框架搭建
   - [ ]  权限管理
   - [ ]  基础功能
   - [ ]  业务功能
2. 门户网站（logistics-portal）

### 5. 移动端开发

1. PDA应用（logistics-pda）

   - [ ]  框架搭建
   - [ ]  离线功能
   - [ ]  扫码功能
   - [ ]  业务功能
2. 司机端（logistics-driver）

### 6. 部署与运维

1. 开发环境

   - [ ]  Docker Compose配置
   - [ ]  本地开发指南
2. 测试环境

   - [ ]  Kubernetes配置
   - [ ]  CI/CD流程
3. 生产环境

   - [ ]  高可用配置
   - [ ]  监控告警
   - [ ]  运维文档

## 当前开发进度

- [X]  项目初始化
- [X]  基础框架搭建
- [ ]  开发中...

## 项目特点

- 微服务架构：基于Spring Cloud的微服务后端，支持服务独立部署和扩展
- 多租户支持：系统设计支持多租户数据隔离，满足SaaS部署需求
- 移动端支持：提供PDA移动应用，支持仓库作业和现场操作
- 前后端分离：基于Vue.js的前端框架，提供现代化用户体验
- 灵活配置：支持租户级业务规则自定义，工作流配置等

## 技术栈

### 后端技术栈

- 构建工具：Gradle 8.7
- 基础框架：Spring Boot 3.2.x, Spring Cloud 2023+
- 服务注册与配置中心：Nacos 2.x（注册中心+配置中心，推荐云原生场景，支持动态服务发现与配置热更新）
- 数据持久化：Spring Data JPA, PostgreSQL
- 安全框架：Spring Security, JWT
- API文档：Swagger/OpenAPI 3.0
- 其他：Lombok, Hutool, Guava

### 前端技术栈

- 框架：Vue.js 3
- 组件库：Element Plus
- 状态管理：Pinia
- 路由：Vue Router
- HTTP客户端：Axios

### 移动端技术栈

- 框架：Flutter
- 状态管理：Provider/Riverpod
- 网络：Dio
- 本地存储：Hive/SharedPreferences

## 系统架构

```ascii
┌─────────────────────────────────────────────────────┐
│                       客户端                         │
│                                                     │
│    ┌──────────┐         ┌──────────┐                │
│    │  Web前端  │         │  PDA移动端 │              │
│    └─────┬────┘         └─────┬────┘                │
└──────────┼──────────────────┬─┼────────────────────┘
           │                  │ │
           │     HTTP/REST    │ │
           ▼                  ▼ ▼
┌──────────────────────────────────────────────────────┐
│                     API网关层                         │
│             (Spring Cloud Gateway)                   │
└────────────────────────┬─────────────────────────────┘
                         │
                         ▼
┌──────────────────────────────────────────────────────┐
│                     微服务集群                        │
│                                                      │
│  ┌──────────┐   ┌──────────┐   ┌──────────┐          │
│  │ 认证中心  │   │ WMS系统  │   │ TMS系统  │          │
│  │   (UC)   │   │          │   │          │          │
│  └──────────┘   └──────────┘   └──────────┘          │
└──────────────────────────────────────────────────────┘
                         │
                         ▼
┌──────────────────────────────────────────────────────┐
│                     数据持久层                        │
│          (PostgreSQL + 缓存 + 消息队列)                   │
└──────────────────────────────────────────────────────┘
```

## 项目结构

```
logistics-cloud/
├── web/                           # Web前端项目
│   ├── logistics-admin/           # 管理后台
│   └── logistics-portal/          # 门户网站
│
├── server/                        # 服务端项目
│   ├── common/                    # 通用组件
│   │   ├── common-core/           # 核心工具类
│   │   ├── common-security/       # 安全组件
│   │   └── common-data/           # 数据访问组件
│   │
│   ├── framework/                 # 框架组件
│   │   ├── framework-web/         # Web框架
│   │   └── framework-swagger/     # API文档
│   │
│   ├── gateway/                   # API网关
│   │
│   ├── auth/                      # 认证中心
│   │
│   └── services/                  # 业务服务
│       ├── wms/                   # 仓库管理系统
│       │   ├── wms-api/           # WMS服务接口
│       │   ├── wms-inventory/     # 库存管理服务
│       │   ├── wms-warehouse/     # 仓库管理服务
│       │   ├── wms-operation/     # 作业管理服务
│       │   └── wms-report/        # 报表服务
│       │
│       └── tms/                   # 运输管理系统
│           ├── tms-api/           # TMS服务接口
│           ├── tms-route/         # 路线规划服务
│           ├── tms-schedule/      # 调度服务
│           └── tms-tracking/      # 运输跟踪服务
│
└── mobile/                        # 移动端项目
    ├── logistics-pda/             # PDA应用
    └── logistics-driver/          # 司机端应用
```

## 详细说明

每个主要模块的详细目录结构和说明请参考对应的文档：

- [Web前端项目说明](./web/README.md)
- [服务端项目说明](./server/README.md)
- [移动端项目说明](./mobile/README.md)

## 多租户设计

系统采用共享架构的多租户设计：

- 所有租户共享服务实例
- 通过租户ID字段进行数据隔离
- 支持租户特定配置
- 预留未来升级到更隔离架构的能力

## 开发环境设置

详细的环境设置和开发指南请参考各模块目录下的README文件。

## 部署指南

系统支持多种部署方式：

- 单服务器部署
- Docker容器部署
- Kubernetes集群部署

具体部署步骤将在后续文档中提供。

## 项目规划

1. 完成核心基础设施
2. 实现认证中心
3. 开发WMS核心功能
4. 构建Web前端应用
5. 开发PDA移动应用
6. 支持更多业务模块

## 贡献指南

欢迎贡献代码或提出建议，请遵循项目代码规范和提交规范。

## 许可证

MIT License

## 技术选型说明

- **注册中心/配置中心：Nacos**
  - 负责所有微服务的服务注册与发现，支持动态扩缩容和弹性治理。
  - 统一管理各环境的配置，支持配置热更新。
  - 云原生友好，易于与Kubernetes等平台集成。
  - 相关文档与使用方式详见 [Nacos官方文档](https://nacos.io/zh-cn/docs/).

## 下一步建议（Nacos 主导实践）

1. **Nacos 快速入门**
   - 推荐先用官方 Docker 镜像本地启动 Nacos，便于开发和测试。
   - 生产环境可用集群部署，支持高可用。

2. **微服务集成 Nacos**
   - 各 Spring Cloud 微服务在 `application.yml` 中配置 Nacos 地址，实现服务注册与发现。
   - 配置中心功能可将各服务的配置文件统一放到 Nacos 管理，支持动态刷新。

3. **推荐目录结构**
   ```
   server/registry/         # 可选，记录Nacos相关文档或脚本
   ```

4. **文档与团队协作**
   - 在 README 或专门文档中记录 Nacos 的启动、接入、常见问题等。

---

如需我帮你生成 Nacos 本地启动脚本、Spring Cloud 微服务 Nacos 配置模板、或详细的 Nacos 使用文档，请随时告知！
